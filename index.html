<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìºë¦­í„° í¬íŠ¸í´ë¦¬ì˜¤ & ì„¸ê³„ê´€ ê´€ë¦¬</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary: #4A90C7;
            --primary-dark: #2C5282;
            --primary-light: #E6F3F8;
            --success: #1A7F4B;
            --success-light: #D4F4E2;
            --warning: #B7791F;
            --warning-light: #FEF3CD;
            --danger: #C53030;
            --gray-50: #F8FBFF;
            --gray-100: #F0F4F8;
            --gray-200: #E8F4F8;
            --gray-400: #A0AEC0;
            --gray-600: #718096;
            --gray-700: #4A5568;
            --gray-900: #2C3E50;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: var(--gray-50);
            color: var(--gray-900);
            line-height: 1.6;
        }
        
        /* ì‚¬ì´ë“œë°” ìŠ¤íƒ€ì¼ */
        .sidebar {
            position: fixed;
            left: 0;
            top: 0;
            width: 280px;
            height: 100vh;
            background: white;
            border-right: 1px solid var(--gray-200);
            overflow-y: auto;
            z-index: 100;
        }
        
        .logo {
            padding: 30px 25px;
            border-bottom: 1px solid var(--gray-200);
        }
        
        .logo h1 {
            color: var(--primary-dark);
            font-size: 22px;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .logo p {
            color: var(--gray-600);
            font-size: 13px;
        }
        
        .nav-section {
            padding: 20px 0;
            border-bottom: 1px solid var(--gray-200);
        }
        
        .nav-title {
            padding: 0 25px 10px;
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--gray-600);
            font-weight: 600;
        }
        
        .nav-item {
            padding: 12px 25px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 12px;
            color: var(--gray-700);
        }
        
        .nav-item:hover {
            background: var(--gray-50);
            color: var(--primary);
        }
        
        .nav-item.active {
            background: var(--primary-light);
            color: var(--primary);
            border-right: 3px solid var(--primary);
            font-weight: 500;
        }
        
        .nav-icon {
            font-size: 18px;
        }
        
        /* ë©”ì¸ ì»¨í…ì¸  */
        .main {
            margin-left: 280px;
            padding: 40px;
            min-height: 100vh;
        }
        
        .hidden {
            display: none !important;
        }

        /* ë°˜ì‘í˜• */
        @media (max-width: 968px) {
            .sidebar {
                transform: translateX(-100%);
                transition: transform 0.3s;
            }
            
            .sidebar.active {
                transform: translateX(0);
            }
            
            .main {
                margin-left: 0;
            }
        }
    </style>
</head>
<body>
    <!-- ì‚¬ì´ë“œë°” -->
    <aside class="sidebar">
        <div class="logo">
            <h1>âœ¨ ìºë¦­í„° & ì„¸ê³„ê´€</h1>
            <p>í†µí•© ê´€ë¦¬ ì‹œìŠ¤í…œ</p>
        </div>
        
        <nav>
            <div class="nav-section">
                <div class="nav-title">í¬íŠ¸í´ë¦¬ì˜¤</div>
                <div class="nav-item active" data-page="portfolio">
                    <span class="nav-icon">ğŸ¨</span>
                    <span>ìºë¦­í„° í¬íŠ¸í´ë¦¬ì˜¤</span>
                </div>
            </div>
            
            <div class="nav-section">
                <div class="nav-title">ì„¸ê³„ê´€</div>
                <div class="nav-item" data-page="world">
                    <span class="nav-icon">ğŸ—ºï¸</span>
                    <span>ì„¸ê³„ ì„¤ì •</span>
                </div>
                <div class="nav-item" data-page="characters">
                    <span class="nav-icon">ğŸ‘¥</span>
                    <span>ìºë¦­í„° ëª©ë¡</span>
                </div>
                <div class="nav-item" data-page="magic">
                    <span class="nav-icon">âœ¨</span>
                    <span>ë§ˆë²• ì²´ê³„</span>
                </div>
                <div class="nav-item" data-page="history">
                    <span class="nav-icon">ğŸ“œ</span>
                    <span>ì—­ì‚¬</span>
                </div>
            </div>
        </nav>
    </aside>

    <!-- React ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ë  ë©”ì¸ ì˜ì—­ -->
    <main class="main">
        <div id="root"></div>
        <div id="world-content" class="hidden"></div>
    </main>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // ì•„ì´ì½˜ ì»´í¬ë„ŒíŠ¸ë“¤
        const Plus = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <line x1="12" y1="5" x2="12" y2="19"></line>
                <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
        );

        const X = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
        );

        const Edit2 = () => (
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
            </svg>
        );

        const Save = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
                <polyline points="17 21 17 13 7 13 7 21"></polyline>
                <polyline points="7 3 7 8 15 8"></polyline>
            </svg>
        );

        const Trash2 = () => (
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <polyline points="3 6 5 6 21 6"></polyline>
                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
            </svg>
        );

        const Lock = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
            </svg>
        );

        const Unlock = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                <path d="M7 11V7a5 5 0 0 1 9.9-1"></path>
            </svg>
        );

        const Upload = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                <polyline points="17 8 12 3 7 8"></polyline>
                <line x1="12" y1="3" x2="12" y2="15"></line>
            </svg>
        );

        const Image = ({ size = 20, className = "" }) => (
            <svg width={size} height={size} className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                <circle cx="8.5" cy="8.5" r="1.5"></circle>
                <polyline points="21 15 16 10 5 21"></polyline>
            </svg>
        );

        // ë©”ì¸ ìºë¦­í„° í¬íŠ¸í´ë¦¬ì˜¤ ì»´í¬ë„ŒíŠ¸
        const CharacterPortfolio = () => {
            const [characters, setCharacters] = useState([]);
            const [commissions, setCommissions] = useState([]);
            const [isAuthenticated, setIsAuthenticated] = useState(false);
            const [passwordInput, setPasswordInput] = useState('');
            const [showPasswordModal, setShowPasswordModal] = useState(false);
            const [editingId, setEditingId] = useState(null);
            const [activeTab, setActiveTab] = useState('characters');
            const [editForm, setEditForm] = useState({
                name: '',
                age: '',
                gender: '',
                personality: '',
                background: '',
                profileImage: ''
            });
            const [commissionForm, setCommissionForm] = useState({
                title: '',
                description: '',
                image: ''
            });

            const MASTER_PASSWORD = 'qwer0014!!';

            useEffect(() => {
                loadData();
            }, []);

            const loadData = async () => {
                try {
                    const charsResult = await window.storage.get('portfolio-characters');
                    const commsResult = await window.storage.get('portfolio-commissions');
                    
                    if (charsResult && charsResult.value) {
                        setCharacters(JSON.parse(charsResult.value));
                    }
                    if (commsResult && commsResult.value) {
                        setCommissions(JSON.parse(commsResult.value));
                    }
                } catch (error) {
                    console.log('ë°ì´í„° ë¡œë”© ì¤‘:', error);
                }
            };

            const saveCharacters = async (data) => {
                try {
                    await window.storage.set('portfolio-characters', JSON.stringify(data));
                } catch (error) {
                    console.error('ì €ì¥ ì‹¤íŒ¨:', error);
                }
            };

            const saveCommissions = async (data) => {
                try {
                    await window.storage.set('portfolio-commissions', JSON.stringify(data));
                } catch (error) {
                    console.error('ì €ì¥ ì‹¤íŒ¨:', error);
                }
            };

            const handlePasswordSubmit = () => {
                if (passwordInput === MASTER_PASSWORD) {
                    setIsAuthenticated(true);
                    setShowPasswordModal(false);
                    setPasswordInput('');
                } else {
                    alert('ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.');
                    setPasswordInput('');
                }
            };

            const handleImageUpload = (e, type) => {
                const file = e.target.files?.[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onloadend = () => {
                        if (type === 'character') {
                            setEditForm({ ...editForm, profileImage: reader.result });
                        } else if (type === 'commission') {
                            setCommissionForm({ ...commissionForm, image: reader.result });
                        }
                    };
                    reader.readAsDataURL(file);
                }
            };

            const addCharacter = () => {
                if (!isAuthenticated) {
                    setShowPasswordModal(true);
                    return;
                }
                if (!editForm.name) {
                    alert('ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                    return;
                }
                const newChar = {
                    id: Date.now(),
                    ...editForm
                };
                const updated = [...characters, newChar];
                setCharacters(updated);
                saveCharacters(updated);
                setEditForm({ name: '', age: '', gender: '', personality: '', background: '', profileImage: '' });
            };

            const updateCharacter = () => {
                const updated = characters.map(c => 
                    c.id === editingId ? { ...c, ...editForm } : c
                );
                setCharacters(updated);
                saveCharacters(updated);
                setEditingId(null);
                setEditForm({ name: '', age: '', gender: '', personality: '', background: '', profileImage: '' });
            };

            const deleteCharacter = (id) => {
                if (!isAuthenticated) {
                    setShowPasswordModal(true);
                    return;
                }
                if (window.confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                    const updated = characters.filter(c => c.id !== id);
                    setCharacters(updated);
                    saveCharacters(updated);
                }
            };

            const startEdit = (char) => {
                if (!isAuthenticated) {
                    setShowPasswordModal(true);
                    return;
                }
                setEditingId(char.id);
                setEditForm({
                    name: char.name,
                    age: char.age,
                    gender: char.gender,
                    personality: char.personality,
                    background: char.background,
                    profileImage: char.profileImage || ''
                });
            };

            const addCommission = () => {
                if (!isAuthenticated) {
                    setShowPasswordModal(true);
                    return;
                }
                if (!commissionForm.image) {
                    alert('ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œí•´ì£¼ì„¸ìš”.');
                    return;
                }
                const newComm = {
                    id: Date.now(),
                    ...commissionForm,
                    date: new Date().toLocaleDateString()
                };
                const updated = [...commissions, newComm];
                setCommissions(updated);
                saveCommissions(updated);
                setCommissionForm({ title: '', description: '', image: '' });
            };

            const deleteCommission = (id) => {
                if (!isAuthenticated) {
                    setShowPasswordModal(true);
                    return;
                }
                if (window.confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                    const updated = commissions.filter(c => c.id !== id);
                    setCommissions(updated);
                    saveCommissions(updated);
                }
            };

            return (
                <div className="min-h-screen">
                    {/* í—¤ë” */}
                    <div className="bg-white rounded-lg shadow-lg p-6 mb-8">
                        <div className="flex justify-between items-center">
                            <h1 className="text-4xl font-bold text-purple-600">Character Portfolio</h1>
                            <button
                                onClick={() => setIsAuthenticated(!isAuthenticated)}
                                className={`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${
                                    isAuthenticated 
                                        ? 'bg-green-500 text-white hover:bg-green-600' 
                                        : 'bg-gray-300 text-gray-700 hover:bg-gray-400'
                                }`}
                            >
                                {isAuthenticated ? <Unlock /> : <Lock />}
                                {isAuthenticated ? 'í¸ì§‘ ëª¨ë“œ' : 'ì ê¸ˆ ëª¨ë“œ'}
                            </button>
                        </div>
                    </div>

                    {/* íƒ­ ë„¤ë¹„ê²Œì´ì…˜ */}
                    <div className="bg-white rounded-lg shadow-lg mb-8">
                        <div className="flex border-b">
                            <button
                                onClick={() => setActiveTab('characters')}
                                className={`flex-1 px-6 py-4 font-semibold transition-colors ${
                                    activeTab === 'characters'
                                        ? 'bg-purple-500 text-white'
                                        : 'bg-white text-gray-600 hover:bg-gray-50'
                                } rounded-tl-lg`}
                            >
                                ìºë¦­í„°
                            </button>
                            <button
                                onClick={() => setActiveTab('commissions')}
                                className={`flex-1 px-6 py-4 font-semibold transition-colors ${
                                    activeTab === 'commissions'
                                        ? 'bg-purple-500 text-white'
                                        : 'bg-white text-gray-600 hover:bg-gray-50'
                                } rounded-tr-lg`}
                            >
                                ì»¤ë¯¸ì…˜
                            </button>
                        </div>
                    </div>

                    {/* ìºë¦­í„° íƒ­ */}
                    {activeTab === 'characters' && (
                        <div>
                            {/* ìºë¦­í„° ì¶”ê°€/ìˆ˜ì • í¼ */}
                            {isAuthenticated && (
                                <div className="bg-white rounded-lg shadow-lg p-6 mb-8">
                                    <h2 className="text-2xl font-bold mb-4 text-purple-600">
                                        {editingId ? 'ìºë¦­í„° ìˆ˜ì •' : 'ìƒˆ ìºë¦­í„° ì¶”ê°€'}
                                    </h2>
                                    <div className="space-y-4">
                                        <div>
                                            <label className="block text-sm font-semibold mb-2">í”„ë¡œí•„ ì‚¬ì§„</label>
                                            <div className="flex items-center gap-4">
                                                {editForm.profileImage && (
                                                    <img 
                                                        src={editForm.profileImage} 
                                                        alt="í”„ë¡œí•„" 
                                                        className="w-24 h-24 object-cover rounded-full"
                                                    />
                                                )}
                                                <label className="flex items-center gap-2 px-4 py-2 bg-purple-500 text-white rounded-lg cursor-pointer hover:bg-purple-600">
                                                    <Upload />
                                                    ì´ë¯¸ì§€ ì—…ë¡œë“œ
                                                    <input
                                                        type="file"
                                                        accept="image/*"
                                                        onChange={(e) => handleImageUpload(e, 'character')}
                                                        className="hidden"
                                                    />
                                                </label>
                                            </div>
                                        </div>
                                        <input
                                            type="text"
                                            placeholder="ì´ë¦„"
                                            value={editForm.name}
                                            onChange={(e) => setEditForm({ ...editForm, name: e.target.value })}
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
                                        />
                                        <input
                                            type="text"
                                            placeholder="ë‚˜ì´"
                                            value={editForm.age}
                                            onChange={(e) => setEditForm({ ...editForm, age: e.target.value })}
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
                                        />
                                        <input
                                            type="text"
                                            placeholder="ì„±ë³„"
                                            value={editForm.gender}
                                            onChange={(e) => setEditForm({ ...editForm, gender: e.target.value })}
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
                                        />
                                        <textarea
                                            placeholder="ì„±ê²©"
                                            value={editForm.personality}
                                            onChange={(e) => setEditForm({ ...editForm, personality: e.target.value })}
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
                                            rows="3"
                                        />
                                        <textarea
                                            placeholder="ë°°ê²½ ìŠ¤í† ë¦¬"
                                            value={editForm.background}
                                            onChange={(e) => setEditForm({ ...editForm, background: e.target.value })}
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
                                            rows="4"
                                        />
                                        <button
                                            onClick={editingId ? updateCharacter : addCharacter}
                                            className="w-full bg-purple-500 text-white px-6 py-3 rounded-lg hover:bg-purple-600 transition-colors flex items-center justify-center gap-2"
                                        >
                                            {editingId ? <Save /> : <Plus />}
                                            {editingId ? 'ìˆ˜ì • ì™„ë£Œ' : 'ìºë¦­í„° ì¶”ê°€'}
                                        </button>
                                        {editingId && (
                                            <button
                                                onClick={() => {
                                                    setEditingId(null);
                                                    setEditForm({ name: '', age: '', gender: '', personality: '', background: '', profileImage: '' });
                                                }}
                                                className="w-full bg-gray-300 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-400 transition-colors"
                                            >
                                                ì·¨ì†Œ
                                            </button>
                                        )}
                                    </div>
                                </div>
                            )}

                            {/* ìºë¦­í„° ëª©ë¡ */}
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                {characters.map((char) => (
                                    <div key={char.id} className="bg-white rounded-lg shadow-lg p-6">
                                        <div className="flex items-start gap-4 mb-4">
                                            {char.profileImage && (
                                                <img 
                                                    src={char.profileImage} 
                                                    alt={char.name} 
                                                    className="w-20 h-20 object-cover rounded-full border-4 border-purple-200"
                                                />
                                            )}
                                            <div className="flex-1">
                                                <div className="flex justify-between items-start">
                                                    <h3 className="text-2xl font-bold text-purple-600">{char.name}</h3>
                                                    {isAuthenticated && (
                                                        <div className="flex gap-2">
                                                            <button
                                                                onClick={() => startEdit(char)}
                                                                className="p-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors"
                                                            >
                                                                <Edit2 />
                                                            </button>
                                                            <button
                                                                onClick={() => deleteCharacter(char.id)}
                                                                className="p-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors"
                                                            >
                                                                <Trash2 />
                                                            </button>
                                                        </div>
                                                    )}
                                                </div>
                                                <p className="text-gray-600">{char.age} â€¢ {char.gender}</p>
                                            </div>
                                        </div>
                                        <div className="space-y-3">
                                            {char.personality && (
                                                <div>
                                                    <h4 className="font-semibold text-purple-500 mb-1">ì„±ê²©</h4>
                                                    <p className="text-gray-700">{char.personality}</p>
                                                </div>
                                            )}
                                            {char.background && (
                                                <div>
                                                    <h4 className="font-semibold text-purple-500 mb-1">ë°°ê²½</h4>
                                                    <p className="text-gray-700">{char.background}</p>
                                                </div>
                                            )}
                                        </div>
                                    </div>
                                ))}
                            </div>

                            {characters.length === 0 && (
                                <div className="bg-white rounded-lg shadow-lg p-12 text-center">
                                    <p className="text-gray-500 text-lg">ì•„ì§ ìºë¦­í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
                                    {isAuthenticated && (
                                        <p className="text-gray-400 mt-2">ìœ„ì˜ í¼ì„ ì‚¬ìš©í•˜ì—¬ ìºë¦­í„°ë¥¼ ì¶”ê°€í•´ë³´ì„¸ìš”!</p>
                                    )}
                                </div>
                            )}
                        </div>
                    )}

                    {/* ì»¤ë¯¸ì…˜ íƒ­ */}
                    {activeTab === 'commissions' && (
                        <div>
                            {/* ì»¤ë¯¸ì…˜ ì¶”ê°€ í¼ */}
                            {isAuthenticated && (
                                <div className="bg-white rounded-lg shadow-lg p-6 mb-8">
                                    <h2 className="text-2xl font-bold mb-4 text-purple-600">ìƒˆ ì»¤ë¯¸ì…˜ ì¶”ê°€</h2>
                                    <div className="space-y-4">
                                        <div>
                                            <label className="block text-sm font-semibold mb-2">ì‘í’ˆ ì´ë¯¸ì§€</label>
                                            <div className="flex items-center gap-4">
                                                {commissionForm.image && (
                                                    <img 
                                                        src={commissionForm.image} 
                                                        alt="ë¯¸ë¦¬ë³´ê¸°" 
                                                        className="w-32 h-32 object-cover rounded-lg"
                                                    />
                                                )}
                                                <label className="flex items-center gap-2 px-4 py-2 bg-purple-500 text-white rounded-lg cursor-pointer hover:bg-purple-600">
                                                    <Image size={20} />
                                                    ì´ë¯¸ì§€ ì—…ë¡œë“œ
                                                    <input
                                                        type="file"
                                                        accept="image/*"
                                                        onChange={(e) => handleImageUpload(e, 'commission')}
                                                        className="hidden"
                                                    />
                                                </label>
                                            </div>
                                        </div>
                                        <input
                                            type="text"
                                            placeholder="ì‘í’ˆ ì œëª©"
                                            value={commissionForm.title}
                                            onChange={(e) => setCommissionForm({ ...commissionForm, title: e.target.value })}
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
                                        />
                                        <textarea
                                            placeholder="ì‘í’ˆ ì„¤ëª…"
                                            value={commissionForm.description}
                                            onChange={(e) => setCommissionForm({ ...commissionForm, description: e.target.value })}
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
                                            rows="3"
                                        />
                                        <button
                                            onClick={addCommission}
                                            className="w-full bg-purple-500 text-white px-6 py-3 rounded-lg hover:bg-purple-600 transition-colors flex items-center justify-center gap-2"
                                        >
                                            <Plus />
                                            ì»¤ë¯¸ì…˜ ì¶”ê°€
                                        </button>
                                    </div>
                                </div>
                            )}

                            {/* ì»¤ë¯¸ì…˜ ê°¤ëŸ¬ë¦¬ */}
                            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                                {commissions.map((comm) => (
                                    <div key={comm.id} className="bg-white rounded-lg shadow-lg overflow-hidden">
                                        <div className="relative">
                                            <img 
                                                src={comm.image}
                                                alt={comm.title} 
                                                className="w-full h-64 object-cover"
                                            />
                                            {isAuthenticated && (
                                                <button
                                                    onClick={() => deleteCommission(comm.id)}
                                                    className="absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors"
                                                >
                                                    <Trash2 />
                                                </button>
                                            )}
                                        </div>
                                        <div className="p-4">
                                            <h3 className="text-xl font-bold text-purple-600 mb-2">{comm.title}</h3>
                                            <p className="text-gray-600 text-sm mb-2">{comm.date}</p>
                                            {comm.description && (
                                                <p className="text-gray-700">{comm.description}</p>
                                            )}
                                        </div>
                                    </div>
                                ))}
                            </div>

                            {commissions.length === 0 && (
                                <div className="bg-white rounded-lg shadow-lg p-12 text-center">
                                    <Image size={64} className="mx-auto text-gray-300 mb-4" />
                                    <p className="text-gray-500 text-lg">ì•„ì§ ì»¤ë¯¸ì…˜ ì‘í’ˆì´ ì—†ìŠµë‹ˆë‹¤.</p>
                                    {isAuthenticated && (
                                        <p className="text-gray-400 mt-2">ìœ„ì˜ í¼ì„ ì‚¬ìš©í•˜ì—¬ ì‘í’ˆì„ ì¶”ê°€í•´ë³´ì„¸ìš”!</p>
                                    )}
                                </div>
                            )}
                        </div>
                    )}

                    {/* ë¹„ë°€ë²ˆí˜¸ ëª¨ë‹¬ */}
                    {showPasswordModal && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                            <div className="bg-white rounded-lg p-6 w-96">
                                <div className="flex justify-between items-center mb-4">
                                    <h3 className="text-xl font-bold">ë§ˆìŠ¤í„° ë¹„ë°€ë²ˆí˜¸ ì…ë ¥</h3>
                                    <button
                                        onClick={() => {
                                            setShowPasswordModal(false);
                                            setPasswordInput('');
                                        }}
                                        className="text-gray-500 hover:text-gray-700"
                                    >
                                        <X />
                                    </button>
                                </div>
                                <input
                                    type="password"
                                    value={passwordInput}
                                    onChange={(e) => setPasswordInput(e.target.value)}
                                    onKeyPress={(e) => e.key === 'Enter' && handlePasswordSubmit()}
                                    placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”"
                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 mb-4"
                                />
                                <button
                                    onClick={handlePasswordSubmit}
                                    className="w-full bg-purple-500 text-white px-6 py-2 rounded-lg hover:bg-purple-600 transition-colors"
                                >
                                    í™•ì¸
                                </button>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        // React ì•± ë Œë”ë§
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<CharacterPortfolio />);
    </script>

    <script>
        // ì„¸ê³„ê´€ ê´€ë¦¬ ì‹œìŠ¤í…œ (ë°”ë‹ë¼ JS)
        let worldCharacters = [
            {
                id: 1,
                name: 'í•˜ëŠ˜',
                icon: 'â˜ï¸',
                role: 'Sky Guardian',
                age: 'ì™¸ê´€ìƒ 20ëŒ€',
                ability: 'êµ¬ë¦„ ì¡°ì¢…, ë‚ ì”¨ ì œì–´',
                personality: 'ì°¨ë¶„í•˜ê³  ì‹ ì¤‘í•¨',
                status: 'completed',
                tags: ['ì£¼ì¸ê³µ', 'ë¦¬ë”', 'ëƒ‰ì •'],
                description: 'í•˜ëŠ˜ì„ ë‹¤ìŠ¤ë¦¬ëŠ” ê³ ëŒ€ ìˆ˜í˜¸ì. ìˆ˜ì²œ ë…„ê°„ ì„¸ê³„ì˜ ê· í˜•ì„ ì§€ì¼œì™”ë‹¤.',
                updated: '2024-11-01'
            },
            {
                id: 2,
                name: 'í‘¸ë¥¸',
                icon: 'ğŸŒŠ',
                role: 'Ocean Spirit',
                age: '18ì„¸',
                ability: 'ë¬¼ ì¡°ì¢…, ì¹˜ìœ ',
                personality: 'í™œë°œí•˜ê³  ê°ì„±ì ',
                status: 'completed',
                tags: ['ì¡°ë ¥ì', 'íëŸ¬', 'ê°ì„±'],
                description: 'ë°”ë‹¤ì—ì„œ ì˜¨ ì Šì€ ì •ë ¹. ì¸ê°„ ì„¸ê³„ì— ëŒ€í•œ í˜¸ê¸°ì‹¬ì´ ë§ë‹¤.',
                updated: '2024-11-01'
            },
            {
                id: 3,
                name: 'í­í’',
                icon: 'âš¡',
                role: 'Storm Wielder',
                age: '25ì„¸',
                ability: 'ë²ˆê°œ ì¡°ì¢…, ê°•í™”',
                personality: 'ì—´ì •ì ì´ê³  ì§ì„¤ì ',
                status: 'progress',
                tags: ['ì „íˆ¬í˜•', 'ëŒê²©ëŒ€'],
                description: 'í­í’ì˜ í˜ì„ ë‹¤ë£¨ëŠ” ì „ì‚¬. ê°•ë ¥í•œ ê³µê²©ë ¥ì„ ìë‘í•œë‹¤.',
                updated: '2024-10-30'
            }
        ];

        let currentCharacterId = null;
        let editMode = false;
        let currentPage = 'portfolio';

        // ë„¤ë¹„ê²Œì´ì…˜ ì„¤ì •
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function() {
                const page = this.dataset.page;
                currentPage = page;
                
                document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
                this.classList.add('active');
                
                if (page === 'portfolio') {
                    document.getElementById('root').classList.remove('hidden');
                    document.getElementById('world-content').classList.add('hidden');
                } else {
                    document.getElementById('root').classList.add('hidden');
                    document.getElementById('world-content').classList.remove('hidden');
                    showWorldPage(page);
                }
            });
        });

        // ì„¸ê³„ê´€ í˜ì´ì§€ í‘œì‹œ
        function showWorldPage(page) {
            const container = document.getElementById('world-content');
            
            if (page === 'characters') {
                container.innerHTML = `
                    <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
                        <h1 class="text-4xl font-bold text-blue-600 mb-4">ìºë¦­í„° ëª©ë¡</h1>
                        <p class="text-gray-600 mb-6">ì„¸ê³„ê´€ ì† ë“±ì¥ì¸ë¬¼ë“¤</p>
                        <button onclick="openAddModal()" class="px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors">
                            + ìƒˆ ìºë¦­í„° ì¶”ê°€
                        </button>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="world-characters-grid"></div>
                `;
                renderWorldCharacters();
            } else if (page === 'world') {
                container.innerHTML = `
                    <div class="bg-white rounded-lg shadow-lg p-8">
                        <h1 class="text-4xl font-bold text-blue-600 mb-4">ì„¸ê³„ ì„¤ì •</h1>
                        <p class="text-gray-600 mb-8">ë°°ê²½ ë° ì§€ë¦¬ ì •ë³´</p>
                        
                        <div class="space-y-8">
                            <div>
                                <h2 class="text-2xl font-bold text-blue-500 mb-4">ğŸ—ºï¸ ì£¼ìš” ì§€ì—­</h2>
                                <div class="space-y-6">
                                    <div class="bg-gray-50 p-6 rounded-lg">
                                        <h3 class="text-xl font-bold mb-2">ì²œê³µ ë„ì‹œ (Sky City)</h3>
                                        <p class="text-gray-700">êµ¬ë¦„ ìœ„ì— ë–  ìˆëŠ” ì‹ ë¹„ë¡œìš´ ë„ì‹œ. í•˜ëŠ˜ì„ ë‹¤ìŠ¤ë¦¬ëŠ” ìˆ˜í˜¸ìë“¤ì˜ ê±°ì£¼ì§€.</p>
                                    </div>
                                    <div class="bg-gray-50 p-6 rounded-lg">
                                        <h3 class="text-xl font-bold mb-2">í‘¸ë¥¸ í•´ì—­ (Azure Ocean)</h3>
                                        <p class="text-gray-700">ê¹Šì€ ë°”ë‹¤ ì†ì— í¼ì³ì§„ ë˜ ë‹¤ë¥¸ ì„¸ê³„. í•´ì–‘ ì •ë ¹ë“¤ì´ ì‚´ê³  ìˆë‹¤.</p>
                                    </div>
                                    <div class="bg-gray-50 p-6 rounded-lg">
                                        <h3 class="text-xl font-bold mb-2">ê²½ê³„ì˜ ë•… (Borderland)</h3>
                                        <p class="text-gray-700">ì¸ê°„ ì„¸ê³„ì™€ ì •ë ¹ ì„¸ê³„ê°€ ë§Œë‚˜ëŠ” ì ‘ì . ë‘ ì„¸ê³„ë¥¼ ì—°ê²°í•˜ëŠ” ì¤‘ìš”í•œ ì¥ì†Œ.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            } else if (page === 'magic') {
                container.innerHTML = `
                    <div class="bg-white rounded-lg shadow-lg p-8">
                        <h1 class="text-4xl font-bold text-blue-600 mb-4">ë§ˆë²• ì²´ê³„</h1>
                        <p class="text-gray-600 mb-8">í˜ì˜ ì›ì²œê³¼ ì‚¬ìš© ë°©ì‹</p>
                        
                        <div class="bg-gray-50 p-6 rounded-lg mb-6">
                            <h2 class="text-2xl font-bold text-blue-500 mb-4">âœ¨ ì •ë ¹ ë§ˆë²•</h2>
                            <p class="text-gray-700 mb-4">ì´ ì„¸ê³„ì˜ ë§ˆë²•ì€ ìì—°ì˜ í˜ì„ ë¹Œë ¤ ì‚¬ìš©í•˜ëŠ” ì •ë ¹ìˆ ì— ê¸°ë°˜í•œë‹¤. ì£¼ìš” ì†ì„±ì€ í•˜ëŠ˜, ë°”ë‹¤, ëŒ€ì§€ì˜ ì„¸ ê°€ì§€ë¡œ ë‚˜ë‰œë‹¤.</p>
                            
                            <h3 class="font-bold text-lg mt-6 mb-3">ì†ì„±ë³„ íŠ¹ì§•:</h3>
                            <ul class="list-disc list-inside space-y-2 text-gray-700">
                                <li><strong>í•˜ëŠ˜:</strong> ë‚ ì”¨ ì¡°ì¢…, ë¹„í–‰, ë°”ëŒ ì œì–´</li>
                                <li><strong>ë°”ë‹¤:</strong> ë¬¼ ì¡°ì¢…, ì¹˜ìœ , ì •í™”</li>
                                <li><strong>ëŒ€ì§€:</strong> ì‹ë¬¼ ì„±ì¥, ë°©ì–´, ì•ˆì •</li>
                            </ul>
                        </div>
                    </div>
                `;
            } else if (page === 'history') {
                container.innerHTML = `
                    <div class="bg-white rounded-lg shadow-lg p-8">
                        <h1 class="text-4xl font-bold text-blue-600 mb-4">ì—­ì‚¬</h1>
                        <p class="text-gray-600 mb-8">ì£¼ìš” ì‚¬ê±´ê³¼ ì—°ëŒ€ê¸°</p>
                        
                        <div class="space-y-6">
                            <div class="bg-gray-50 p-6 rounded-lg">
                                <h3 class="text-xl font-bold mb-2">1000ë…„ ì „ - ì„¸ ì •ë ¹ì˜ ê³„ì•½</h3>
                                <p class="text-gray-700">í•˜ëŠ˜, ë°”ë‹¤, ëŒ€ì§€ì˜ ì •ë ¹ì´ ëª¨ì—¬ ì„¸ê³„ì˜ ê· í˜•ì„ ì§€í‚¤ê¸°ë¡œ ë§¹ì„¸í–ˆë‹¤.</p>
                            </div>
                            <div class="bg-gray-50 p-6 rounded-lg">
                                <h3 class="text-xl font-bold mb-2">100ë…„ ì „ - ëŒ€ê· ì—´ ì‚¬ê±´</h3>
                                <p class="text-gray-700">ì–´ë‘ ì˜ í˜ì´ ì„¸ê³„ë¥¼ ìœ„í˜‘í–ˆìœ¼ë‚˜, ì •ë ¹ë“¤ì´ í˜ì„ í•©ì³ ë´‰ì¸ì— ì„±ê³µí–ˆë‹¤.</p>
                            </div>
                            <div class="bg-gray-50 p-6 rounded-lg">
                                <h3 class="text-xl font-bold mb-2">í˜„ì¬ - ë´‰ì¸ì˜ ì•½í™”</h3>
                                <p class="text-gray-700">ìµœê·¼ ë“¤ì–´ ë´‰ì¸ì´ ì•½í•´ì§€ë©´ì„œ ì´ìƒ í˜„ìƒì´ ë°œìƒí•˜ê¸° ì‹œì‘í–ˆë‹¤.</p>
                            </div>
                        </div>
                    </div>
                `;
            }
        }

        // ì„¸ê³„ê´€ ìºë¦­í„° ë Œë”ë§
        function renderWorldCharacters() {
            const grid = document.getElementById('world-characters-grid');
            if (!grid) return;
            
            grid.innerHTML = worldCharacters.map(char => `
                <div class="bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow">
                    <div class="bg-gradient-to-br from-blue-50 to-purple-50 p-6 border-b">
                        <div class="text-5xl mb-3">${char.icon}</div>
                        <h3 class="text-2xl font-bold text-gray-900">${char.name}</h3>
                        <p class="text-gray-600">${char.role}</p>
                    </div>
                    <div class="p-6">
                        <div class="space-y-2 mb-4">
                            <div class="flex justify-between">
                                <span class="text-gray-600">ë‚˜ì´:</span>
                                <span class="font-semibold">${char.age}</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-600">ëŠ¥ë ¥:</span>
                                <span class="font-semibold">${char.ability}</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-600">ì„±ê²©:</span>
                                <span class="font-semibold">${char.personality}</span>
                            </div>
                        </div>
                        <p class="text-gray-700 text-sm mb-4">${char.description}</p>
                        <div class="flex flex-wrap gap-2">
                            ${char.tags.map(tag => `
                                <span class="px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-semibold">${tag}</span>
                            `).join('')}
                        </div>
                    </div>
                    <div class="bg-gray-50 px-6 py-3 flex justify-between items-center border-t">
                        <span class="text-xs text-gray-500">${char.updated}</span>
                        <div class="flex gap-2">
                            <button onclick="editWorldCharacter(${char.id})" class="px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm">
                                ìˆ˜ì •
                            </button>
                            <button onclick="deleteWorldCharacter(${char.id})" class="px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 text-sm">
                                ì‚­ì œ
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function openAddModal() {
            alert('ìºë¦­í„° ì¶”ê°€ ê¸°ëŠ¥ì€ ê°œë°œ ì¤‘ì…ë‹ˆë‹¤.');
        }

        function editWorldCharacter(id) {
            alert('ìºë¦­í„° ìˆ˜ì • ê¸°ëŠ¥ì€ ê°œë°œ ì¤‘ì…ë‹ˆë‹¤.');
        }

        function deleteWorldCharacter(id) {
            if (confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                worldCharacters = worldCharacters.filter(c => c.id !== id);
                renderWorldCharacters();
            }
        }

        // ì´ˆê¸° ë¡œë“œ
        document.addEventListener('DOMContentLoaded', function() {
            // í¬íŠ¸í´ë¦¬ì˜¤ê°€ ê¸°ë³¸ í˜ì´ì§€
            document.getElementById('root').classList.remove('hidden');
            document.getElementById('world-content').classList.add('hidden');
        });
    </script>
</body>
</html>
